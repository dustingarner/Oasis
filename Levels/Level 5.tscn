[gd_scene load_steps=23 format=2]

[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Levels/EndGame.tscn" type="PackedScene" id=2]
[ext_resource path="res://Enemies/Cobra.tscn" type="PackedScene" id=3]
[ext_resource path="res://Player/Camera2D.gd" type="Script" id=4]
[ext_resource path="res://Levels/WatchCamera.gd" type="Script" id=5]
[ext_resource path="res://Levels/Level.gd" type="Script" id=6]
[ext_resource path="res://Assets/Pause.png" type="Texture2D" id=7]
[ext_resource path="res://Assets/Tiles/Full Tileset.tres" type="TileSet" id=8]
[ext_resource path="res://Menus/PauseMenu.tscn" type="PackedScene" id=9]
[ext_resource path="res://Assets/Tiles/Plants.tres" type="TileSet" id=10]
[ext_resource path="res://Assets/Parallax/Sky.png" type="Texture2D" id=11]
[ext_resource path="res://Enemies/Vulture.tscn" type="PackedScene" id=12]
[ext_resource path="res://Assets/Parallax/Parallax Front.png" type="Texture2D" id=13]
[ext_resource path="res://Assets/Parallax/Parallax Back.png" type="Texture2D" id=14]
[ext_resource path="res://Assets/Enemies/Vulture.png" type="Texture2D" id=15]
[ext_resource path="res://Enemies/Vulture.gd" type="Script" id=16]
[ext_resource path="res://Player/HealthBar.tscn" type="PackedScene" id=17]

[sub_resource type="Animation" id=3]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0 ),
"transitions": PackedFloat32Array( 1 ),
"update": 0,
"values": [ 0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CollisionPolygon2D:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PackedFloat32Array( 0 ),
"transitions": PackedFloat32Array( 1 ),
"update": 0,
"values": [ PackedVector2Array( -3, 1, -3, -5, 3, -5, 3, -2, 6, -1, 6, 3, 4, 8, -3, 8 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Talons:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PackedFloat32Array( 0 ),
"transitions": PackedFloat32Array( 1 ),
"update": 0,
"values": [ Vector2( 0, 8 ) ]
}

[sub_resource type="Animation" id=2]
resource_name = "Vulture"
length = 1.4
loop = true
step = 0.2
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0, 0.2, 0.4, 0.6, 0.8, 1, 1.2 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3, 4, 5, 6 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CollisionPolygon2D:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PackedFloat32Array( 0, 0.2, 0.4, 0.6, 0.8, 1, 1.2 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ PackedVector2Array( -3, 1, -3, -5, 3, -5, 3, -2, 6, -1, 6, 3, 4, 8, -3, 8 ), PackedVector2Array( -3, 1, -3, -5, -2, -6, 2, -6, 3, -5, 3, -2, 6, -1, 6, 3, 4, 7, -3, 7 ), PackedVector2Array( -3, 1, -3, -6, -2, -7, 2, -7, 3, -6, 3, -5, 3, -5, 6, -2, 6, 2, 4, 6, -3, 6 ), PackedVector2Array( -3, 1, -3, -8, -2, -9, 2, -9, 3, -8, 3, -6, 4, -6, 6, -4, 6, 0, 4, 4, -3, 4 ), PackedVector2Array( -3, 1, -3, -7, -2, -8, 2, -8, 3, -7, 3, -6, 4, -5, 6, -4, 6, 0, 4, 5, -3, 5 ), PackedVector2Array( -3, 1, -3, -6, -2, -7, 2, -7, 3, -6, 4, -4, 6, -3, 6, 1, 4, 6, -3, 6 ), PackedVector2Array( -3, 1, -3, -5, -2, -6, 2, -6, 3, -5, 4, -3, 6, -2, 6, 2, 5, 2, 4, 7, -3, 7 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Talons:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PackedFloat32Array( 0, 0.2, 0.4, 0.6, 0.8, 1, 1.2 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ Vector2( 0, 8 ), Vector2( 0, 7 ), Vector2( 0, 6 ), Vector2( 0, 4 ), Vector2( 0, 5 ), Vector2( 0, 6 ), Vector2( 0, 7 ) ]
}

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 2, 21.5 )

[sub_resource type="GDScript" id=4]
script/source = "extends CharacterBody2D


@export var stop_pos1:= -16
@export var stop_pos2:= 16
@export var idle_time:= 1.5
@export var pre_dive_time:= 0.35


enum States {
	IDLE,
	FLY,
	PRE_DIVE,
	DIVE,
	POST_DIVE
}


const FLY_SPEED:= 25
const DIVE_SPEED:= 100
const LIFT_SPEED:= -25
const animation_speed:= 1.25


@onready var idle_timer:= $IdleTimer
@onready var detect_player:= $DetectPlayer
@onready var talons:= $Talons
@onready var animation:= $AnimationPlayer


var start_pos: Vector2
var prev_state: int
var current_state: int
var facing_right:= true
var speed: Vector2
var x_direction: int
var velocity: Vector2
var divable:= true
var pre_dive:= false
var dive_to: float


func _ready():
	start_pos = global_position
	x_direction = 1
	current_state = States.FLY
	animation.play(\"Vulture\")
	animation.playback_speed = animation_speed
	idle_timer.connect(\"timeout\", Callable(self, \"after_idle\"))
	detect_player.connect(\"body_entered\", Callable(self, \"prepare_dive\"))


func prepare_dive(body) -> void:
	if divable and body.is_in_group(\"Player\"):
		divable = false
		pre_dive = true
		if body.fsm.current_state == \"jump\":
			dive_to = body.start_jump
		else:
			dive_to = body.position.y
		change_state(States.PRE_DIVE)


func after_idle() -> void:
	if pre_dive:
		change_state(States.DIVE)
		pre_dive = false
	else:
		change_state(States.FLY)


func change_state(new_state: int) -> void:
	prev_state = current_state
	match new_state:
		States.IDLE:
			idle_timer.start(idle_time)
		States.FLY:
			scale.x *= -1
			x_direction *= -1
			facing_right = not facing_right
		States.PRE_DIVE:
			idle_timer.start(pre_dive_time)
		States.DIVE:
			GlobalSound.play_sound(GlobalSound.vulture)
		States.POST_DIVE:
			pass
	current_state = new_state


func _physics_process(delta):
	match current_state:
		States.IDLE:
			speed = Vector2.ZERO
		States.FLY:
			speed = Vector2(FLY_SPEED, 0)
			if (facing_right and global_position.x - start_pos.x >= stop_pos2) \\
					or not facing_right and (global_position.x - start_pos.x <= stop_pos1):
				change_state(States.IDLE)
			elif is_on_wall():
				change_state(States.IDLE)
		States.PRE_DIVE:
			speed = Vector2.ZERO
		States.DIVE:
			speed = Vector2(0, DIVE_SPEED)
			if talons.global_position.y >= dive_to or is_on_floor():
				divable = true
				change_state(States.POST_DIVE)
		States.POST_DIVE:
			speed = Vector2(0, LIFT_SPEED)
			if global_position.y <= start_pos.y:
				change_state(States.IDLE)
	
	velocity.x = speed.x * x_direction
	velocity.y = speed.y
	
	set_velocity(velocity)
	set_up_direction(Vector2.UP)
	move_and_slide()
	


"

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 2, 19 )

[node name="Level 5" type="Node2D"]
script = ExtResource( 6 )

[node name="Background" type="CanvasLayer" parent="."]
layer = -2

[node name="BackgroundSprite" type="Sprite2D" parent="Background"]
texture = ExtResource( 11 )
centered = false

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
layer = -1

[node name="ParallaxBack" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.6, 0.03 )
motion_mirroring = Vector2( 450, 0 )

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxBack"]
position = Vector2( 0, -7 )
scale = Vector2( 1.5, 1 )
texture = ExtResource( 14 )
centered = false

[node name="ParallaxFront" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.7, 0.07 )
motion_mirroring = Vector2( 103, 0 )

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxFront"]
position = Vector2( 0, 21 )
texture = ExtResource( 13 )
centered = false

[node name="Plants" type="TileMap" parent="."]
tile_set = ExtResource( 10 )
cell_size = Vector2( 1, 1 )
collision_layer = 0
format = 1
tile_data = PackedInt32Array( -15662579, 10, 0, -15007273, 5, 0, -14941658, 3, 0, -14810629, 5, 0, -13893071, 5, 0, -13237764, 6, 0, -11730295, 0, 0, -11533830, 4, 0, -10092101, 5, 0, -9829685, 10, 0, -7011956, 3, 0, -6487672, 5, 0, -5832418, 6, 0, -4521596, 3, 0, -2358931, 4, 0, -392880, 8, 0, -327429, 8, 0, 721076, 2, 0, 721140, 5, 0, 2424926, 3, 0, 2818091, 2, 0 )

[node name="Ground" type="TileMap" parent="."]
tile_set = ExtResource( 8 )
cell_size = Vector2( 8, 8 )
collision_layer = 4
collision_mask = 3
format = 1
tile_data = PackedInt32Array( -2031518, 4, 0, -2031517, 4, 0, -2031516, 4, 0, -2031515, 4, 0, -2031514, 4, 0, -2031513, 4, 0, -2031512, 4, 0, -2031511, 4, 0, -2031510, 4, 0, -1965982, 4, 0, -1965981, 4, 0, -1965980, 4, 0, -1965979, 4, 0, -1965978, 4, 0, -1965977, 4, 0, -1965976, 4, 0, -1965975, 4, 0, -1965974, 4, 0, -1900480, 0, 0, -1900479, 1, 0, -1900478, 1, 0, -1900477, 1, 0, -1900476, 1, 0, -1900475, 2, 0, -1900446, 4, 0, -1900445, 4, 0, -1900444, 4, 0, -1900443, 4, 0, -1900442, 4, 0, -1900441, 4, 0, -1900440, 4, 0, -1900439, 4, 0, -1900438, 4, 0, -1834944, 3, 0, -1834943, 4, 0, -1834942, 4, 0, -1834941, 4, 0, -1834940, 4, 0, -1834939, 5, 0, -1834910, 4, 0, -1834909, 4, 0, -1834908, 4, 0, -1834907, 4, 0, -1834906, 4, 0, -1834905, 4, 0, -1834904, 4, 0, -1834903, 4, 0, -1834902, 4, 0, -1769414, 12, 0, -1769413, 13, 0, -1769412, 13, 0, -1769411, 14, 0, -1769408, 3, 0, -1769407, 4, 0, -1769406, 4, 0, -1769405, 4, 0, -1769404, 4, 0, -1769403, 16, 0, -1769402, 1, 0, -1769401, 2, 0, -1769374, 4, 0, -1769373, 4, 0, -1769372, 4, 0, -1769371, 4, 0, -1769370, 4, 0, -1769369, 4, 0, -1769368, 4, 0, -1769367, 4, 0, -1769366, 4, 0, -1703872, 3, 0, -1703871, 4, 0, -1703870, 4, 0, -1703869, 4, 0, -1703868, 4, 0, -1703867, 4, 0, -1703866, 4, 0, -1703865, 5, 0, -1703838, 4, 0, -1703837, 4, 0, -1703836, 4, 0, -1703835, 4, 0, -1703834, 4, 0, -1703833, 4, 0, -1703832, 4, 0, -1703831, 4, 0, -1703830, 4, 0, -1638336, 3, 0, -1638335, 4, 0, -1638334, 4, 0, -1638333, 4, 0, -1638332, 4, 0, -1638331, 4, 0, -1638330, 4, 0, -1638329, 16, 0, -1638328, 1, 0, -1638327, 2, 0, -1638302, 4, 0, -1638301, 4, 0, -1638300, 4, 0, -1638299, 4, 0, -1638298, 4, 0, -1638297, 4, 0, -1638296, 4, 0, -1638295, 4, 0, -1638294, 4, 0, -1572814, 12, 0, -1572813, 13, 0, -1572812, 13, 0, -1572811, 13, 0, -1572810, 14, 0, -1572800, 3, 0, -1572799, 4, 0, -1572798, 4, 0, -1572797, 4, 0, -1572796, 4, 0, -1572795, 4, 0, -1572794, 4, 0, -1572793, 4, 0, -1572792, 4, 0, -1572791, 16, 0, -1572790, 2, 0, -1572766, 4, 0, -1572765, 4, 0, -1572764, 4, 0, -1572763, 4, 0, -1572762, 4, 0, -1572761, 4, 0, -1572760, 4, 0, -1572759, 4, 0, -1572758, 4, 0, -1507270, 12, 0, -1507269, 13, 0, -1507268, 13, 0, -1507267, 14, 0, -1507264, 3, 0, -1507263, 4, 0, -1507262, 4, 0, -1507261, 4, 0, -1507260, 4, 0, -1507259, 4, 0, -1507258, 4, 0, -1507257, 4, 0, -1507256, 4, 0, -1507255, 4, 0, -1507254, 16, 0, -1507253, 2, 0, -1507230, 4, 0, -1507229, 4, 0, -1507228, 4, 0, -1507227, 4, 0, -1507226, 4, 0, -1507225, 4, 0, -1507224, 4, 0, -1507223, 4, 0, -1507222, 4, 0, -1441728, 3, 0, -1441727, 4, 0, -1441726, 4, 0, -1441725, 4, 0, -1441724, 4, 0, -1441723, 4, 0, -1441722, 4, 0, -1441721, 4, 0, -1441720, 4, 0, -1441719, 4, 0, -1441718, 4, 0, -1441717, 16, 0, -1441716, 2, 0, -1441694, 4, 0, -1441693, 4, 0, -1441692, 4, 0, -1441691, 4, 0, -1441690, 4, 0, -1441689, 4, 0, -1441688, 4, 0, -1441687, 4, 0, -1441686, 4, 0, -1376192, 3, 0, -1376191, 4, 0, -1376190, 4, 0, -1376189, 4, 0, -1376188, 4, 0, -1376187, 4, 0, -1376186, 4, 0, -1376185, 4, 0, -1376184, 4, 0, -1376183, 4, 0, -1376182, 4, 0, -1376181, 4, 0, -1376180, 16, 0, -1376179, 1, 0, -1376178, 1, 0, -1376177, 2, 0, -1376158, 6, 0, -1376157, 4, 0, -1376156, 4, 0, -1376155, 4, 0, -1376154, 4, 0, -1376153, 4, 0, -1376152, 4, 0, -1376151, 4, 0, -1376150, 4, 0, -1310664, 0, 0, -1310663, 1, 0, -1310662, 1, 0, -1310661, 1, 0, -1310660, 1, 0, -1310659, 1, 0, -1310658, 1, 0, -1310657, 1, 0, -1310656, 15, 0, -1310655, 4, 0, -1310654, 4, 0, -1310653, 4, 0, -1310652, 4, 0, -1310651, 4, 0, -1310650, 4, 0, -1310649, 4, 0, -1310648, 4, 0, -1310647, 4, 0, -1310646, 4, 0, -1310645, 4, 0, -1310644, 4, 0, -1310643, 4, 0, -1310642, 4, 0, -1310641, 16, 0, -1310640, 1, 0, -1310639, 1, 0, -1310638, 1, 0, -1310637, 2, 0, -1310622, 9, 0, -1310621, 10, 0, -1310620, 10, 0, -1310619, 10, 0, -1310618, 10, 0, -1310617, 10, 0, -1310616, 4, 0, -1310615, 4, 0, -1310614, 4, 0, -1245128, 3, 0, -1245127, 4, 0, -1245126, 4, 0, -1245125, 4, 0, -1245124, 4, 0, -1245123, 4, 0, -1245122, 4, 0, -1245121, 4, 0, -1245120, 4, 0, -1245119, 4, 0, -1245118, 4, 0, -1245117, 4, 0, -1245116, 4, 0, -1245115, 4, 0, -1245114, 4, 0, -1245113, 4, 0, -1245112, 4, 0, -1245111, 4, 0, -1245110, 4, 0, -1245109, 4, 0, -1245108, 4, 0, -1245107, 4, 0, -1245106, 4, 0, -1245105, 4, 0, -1245104, 4, 0, -1245103, 4, 0, -1245102, 4, 0, -1245101, 16, 0, -1245100, 1, 0, -1245099, 1, 0, -1245098, 1, 0, -1245097, 2, 0, -1245080, 4, 0, -1245079, 4, 0, -1245078, 4, 0, -1179592, 3, 0, -1179591, 4, 0, -1179590, 4, 0, -1179589, 4, 0, -1179588, 4, 0, -1179587, 4, 0, -1179586, 4, 0, -1179585, 4, 0, -1179584, 4, 0, -1179583, 4, 0, -1179582, 4, 0, -1179581, 4, 0, -1179580, 4, 0, -1179579, 4, 0, -1179578, 4, 0, -1179577, 4, 0, -1179576, 4, 0, -1179575, 4, 0, -1179574, 4, 0, -1179573, 4, 0, -1179572, 4, 0, -1179571, 4, 0, -1179570, 4, 0, -1179569, 4, 0, -1179568, 4, 0, -1179567, 4, 0, -1179566, 4, 0, -1179565, 4, 0, -1179564, 4, 0, -1179563, 4, 0, -1179562, 4, 0, -1179561, 16, 0, -1179560, 1, 0, -1179559, 1, 0, -1179558, 1, 0, -1179557, 1, 0, -1179556, 2, 0, -1179544, 4, 0, -1179543, 4, 0, -1179542, 4, 0, -1114061, 0, 0, -1114060, 1, 0, -1114059, 1, 0, -1114058, 1, 0, -1114057, 1, 0, -1114056, 15, 0, -1114055, 4, 0, -1114054, 4, 0, -1114053, 4, 0, -1114052, 4, 0, -1114051, 4, 0, -1114050, 4, 0, -1114049, 4, 0, -1114048, 4, 0, -1114047, 4, 0, -1114046, 4, 0, -1114045, 4, 0, -1114044, 4, 0, -1114043, 4, 0, -1114042, 4, 0, -1114041, 4, 0, -1114040, 4, 0, -1114039, 4, 0, -1114038, 4, 0, -1114037, 4, 0, -1114036, 4, 0, -1114035, 4, 0, -1114034, 4, 0, -1114033, 4, 0, -1114032, 4, 0, -1114031, 4, 0, -1114030, 4, 0, -1114029, 4, 0, -1114028, 4, 0, -1114027, 4, 0, -1114026, 4, 0, -1114025, 4, 0, -1114024, 4, 0, -1114023, 4, 0, -1114022, 4, 0, -1114021, 4, 0, -1114020, 16, 0, -1114019, 1, 0, -1114018, 1, 0, -1114017, 1, 0, -1114016, 1, 0, -1114015, 1, 0, -1114014, 1, 0, -1114013, 1, 0, -1114012, 1, 0, -1114011, 1, 0, -1114010, 1, 0, -1114009, 1, 0, -1114008, 4, 0, -1114007, 4, 0, -1114006, 4, 0, -1048525, 3, 0, -1048524, 4, 0, -1048523, 4, 0, -1048522, 4, 0, -1048521, 4, 0, -1048520, 4, 0, -1048519, 4, 0, -1048518, 4, 0, -1048517, 4, 0, -1048516, 4, 0, -1048515, 4, 0, -1048514, 4, 0, -1048513, 4, 0, -1048512, 4, 0, -1048511, 4, 0, -1048510, 4, 0, -1048509, 4, 0, -1048508, 4, 0, -1048507, 4, 0, -1048506, 4, 0, -1048505, 4, 0, -1048504, 4, 0, -1048503, 4, 0, -1048502, 4, 0, -1048501, 4, 0, -1048500, 4, 0, -1048499, 4, 0, -1048498, 4, 0, -1048497, 4, 0, -1048496, 4, 0, -1048495, 4, 0, -1048494, 4, 0, -1048493, 4, 0, -1048492, 4, 0, -1048491, 4, 0, -1048490, 4, 0, -1048489, 4, 0, -1048488, 4, 0, -1048487, 4, 0, -1048486, 4, 0, -1048485, 4, 0, -1048484, 4, 0, -1048483, 4, 0, -1048482, 4, 0, -1048481, 4, 0, -1048480, 4, 0, -1048479, 4, 0, -1048478, 4, 0, -1048477, 4, 0, -1048476, 4, 0, -1048475, 4, 0, -1048474, 4, 0, -1048473, 4, 0, -1048472, 4, 0, -1048471, 4, 0, -1048470, 4, 0, -982993, 7, 0, -982989, 3, 0, -982988, 4, 0, -982987, 4, 0, -982986, 4, 0, -982985, 4, 0, -982984, 4, 0, -982983, 4, 0, -982982, 4, 0, -982981, 4, 0, -982980, 4, 0, -982979, 4, 0, -982978, 4, 0, -982977, 4, 0, -982976, 4, 0, -982975, 4, 0, -982974, 4, 0, -982973, 4, 0, -982972, 4, 0, -982971, 4, 0, -982970, 4, 0, -982969, 4, 0, -982968, 4, 0, -982967, 4, 0, -982966, 4, 0, -982965, 4, 0, -982964, 4, 0, -982963, 4, 0, -982962, 4, 0, -982961, 4, 0, -982960, 4, 0, -982959, 4, 0, -982958, 4, 0, -982957, 4, 0, -982956, 4, 0, -982955, 4, 0, -982954, 4, 0, -982953, 4, 0, -982952, 4, 0, -982951, 4, 0, -982950, 4, 0, -982949, 4, 0, -982948, 4, 0, -982947, 4, 0, -982946, 4, 0, -982945, 4, 0, -982944, 4, 0, -982943, 4, 0, -982942, 4, 0, -982941, 4, 0, -982940, 4, 0, -982939, 4, 0, -982938, 4, 0, -982937, 4, 0, -982936, 4, 0, -982935, 4, 0, -982934, 4, 0, -917454, 0, 0, -917453, 15, 0, -917452, 4, 0, -917451, 4, 0, -917450, 4, 0, -917449, 4, 0, -917448, 4, 0, -917447, 4, 0, -917446, 4, 0, -917445, 4, 0, -917444, 4, 0, -917443, 4, 0, -917442, 4, 0, -917441, 4, 0, -917440, 4, 0, -917439, 4, 0, -917438, 4, 0, -917437, 4, 0, -917436, 4, 0, -917435, 4, 0, -917434, 4, 0, -917433, 4, 0, -917432, 4, 0, -917431, 4, 0, -917430, 4, 0, -917429, 4, 0, -917428, 4, 0, -917427, 4, 0, -917426, 4, 0, -917425, 4, 0, -917424, 4, 0, -917423, 4, 0, -917422, 4, 0, -917421, 4, 0, -917420, 4, 0, -917419, 4, 0, -917418, 4, 0, -917417, 4, 0, -917416, 4, 0, -917415, 4, 0, -917414, 4, 0, -917413, 4, 0, -917412, 4, 0, -917411, 4, 0, -917410, 4, 0, -917409, 4, 0, -917408, 4, 0, -917407, 4, 0, -917406, 4, 0, -917405, 4, 0, -917404, 4, 0, -917403, 4, 0, -917402, 4, 0, -917401, 4, 0, -917400, 4, 0, -917399, 4, 0, -917398, 4, 0, -851918, 3, 0, -851917, 4, 0, -851916, 4, 0, -851915, 4, 0, -851914, 4, 0, -851913, 4, 0, -851912, 4, 0, -851911, 4, 0, -851910, 4, 0, -851909, 4, 0, -851908, 4, 0, -851907, 4, 0, -851906, 4, 0, -851905, 4, 0, -851904, 4, 0, -851903, 4, 0, -851902, 4, 0, -851901, 4, 0, -851900, 4, 0, -851899, 4, 0, -851898, 4, 0, -851897, 4, 0, -851896, 4, 0, -851895, 4, 0, -851894, 4, 0, -851893, 4, 0, -851892, 4, 0, -851891, 4, 0, -851890, 4, 0, -851889, 4, 0, -851888, 4, 0, -851887, 4, 0, -851886, 4, 0, -851885, 4, 0, -851884, 4, 0, -851883, 4, 0, -851882, 4, 0, -851881, 4, 0, -851880, 4, 0, -851879, 4, 0, -851878, 4, 0, -851877, 4, 0, -851876, 4, 0, -851875, 4, 0, -851874, 4, 0, -851873, 4, 0, -851872, 4, 0, -851871, 4, 0, -851870, 4, 0, -851869, 4, 0, -851868, 4, 0, -851867, 4, 0, -851866, 4, 0, -851865, 4, 0, -851864, 4, 0, -851863, 4, 0, -851862, 4, 0, -786392, 12, 0, -786391, 13, 0, -786390, 13, 0, -786389, 14, 0, -786382, 3, 0, -786381, 4, 0, -786380, 4, 0, -786379, 4, 0, -786378, 4, 0, -786377, 4, 0, -786376, 4, 0, -786375, 4, 0, -786374, 4, 0, -786373, 4, 0, -786372, 4, 0, -786371, 4, 0, -786370, 4, 0, -786369, 4, 0, -786368, 4, 0, -786367, 4, 0, -786366, 4, 0, -786365, 4, 0, -786364, 4, 0, -786363, 4, 0, -786362, 4, 0, -786361, 4, 0, -786360, 4, 0, -786359, 4, 0, -786358, 4, 0, -786357, 4, 0, -786356, 4, 0, -786355, 4, 0, -786354, 4, 0, -786353, 4, 0, -786352, 4, 0, -786351, 4, 0, -786350, 4, 0, -786349, 4, 0, -786348, 4, 0, -786347, 4, 0, -786346, 4, 0, -786345, 4, 0, -786344, 4, 0, -786343, 4, 0, -786342, 4, 0, -786341, 4, 0, -786340, 4, 0, -786339, 4, 0, -786338, 4, 0, -786337, 4, 0, -786336, 4, 0, -786335, 4, 0, -786334, 4, 0, -786333, 4, 0, -786332, 4, 0, -786331, 4, 0, -786330, 4, 0, -786329, 4, 0, -786328, 4, 0, -786327, 4, 0, -786326, 4, 0, -720846, 3, 0, -720845, 4, 0, -720844, 4, 0, -720843, 4, 0, -720842, 4, 0, -720841, 4, 0, -720840, 4, 0, -720839, 4, 0, -720838, 4, 0, -720837, 4, 0, -720836, 4, 0, -720835, 4, 0, -720834, 4, 0, -720833, 4, 0, -720832, 4, 0, -720831, 4, 0, -720830, 4, 0, -720829, 4, 0, -720828, 4, 0, -720827, 4, 0, -720826, 4, 0, -720825, 4, 0, -720824, 4, 0, -720823, 4, 0, -720822, 4, 0, -720821, 4, 0, -720820, 4, 0, -720819, 4, 0, -720818, 4, 0, -720817, 4, 0, -720816, 4, 0, -720815, 4, 0, -720814, 4, 0, -720813, 4, 0, -720812, 4, 0, -720811, 4, 0, -720810, 4, 0, -720809, 4, 0, -720808, 4, 0, -720807, 4, 0, -720806, 4, 0, -720805, 4, 0, -720804, 4, 0, -720803, 4, 0, -720802, 4, 0, -720801, 4, 0, -720800, 4, 0, -720799, 4, 0, -720798, 4, 0, -720797, 4, 0, -720796, 4, 0, -720795, 4, 0, -720794, 4, 0, -720793, 4, 0, -720792, 4, 0, -720791, 4, 0, -720790, 4, 0, -655311, 0, 0, -655310, 15, 0, -655309, 4, 0, -655308, 4, 0, -655307, 4, 0, -655306, 4, 0, -655305, 4, 0, -655304, 4, 0, -655303, 4, 0, -655302, 4, 0, -655301, 4, 0, -655300, 4, 0, -655299, 4, 0, -655298, 4, 0, -655297, 4, 0, -655296, 4, 0, -655295, 4, 0, -655294, 4, 0, -655293, 4, 0, -655292, 4, 0, -655291, 4, 0, -655290, 4, 0, -655289, 4, 0, -655288, 4, 0, -655287, 4, 0, -655286, 4, 0, -655285, 4, 0, -655284, 4, 0, -655283, 4, 0, -655282, 4, 0, -655281, 4, 0, -655280, 4, 0, -655279, 4, 0, -655278, 4, 0, -655277, 4, 0, -655276, 4, 0, -655275, 4, 0, -655274, 4, 0, -655273, 4, 0, -655272, 4, 0, -655271, 4, 0, -655270, 4, 0, -655269, 4, 0, -655268, 4, 0, -655267, 4, 0, -655266, 4, 0, -655265, 4, 0, -655264, 4, 0, -655263, 4, 0, -655262, 4, 0, -655261, 4, 0, -655260, 4, 0, -655259, 4, 0, -655258, 4, 0, -655257, 4, 0, -655256, 4, 0, -655255, 4, 0, -655254, 4, 0, -589789, 12, 0, -589788, 13, 0, -589787, 14, 0, -589775, 3, 0, -589774, 4, 0, -589773, 4, 0, -589772, 4, 0, -589771, 4, 0, -589770, 4, 0, -589769, 4, 0, -589768, 4, 0, -589767, 4, 0, -589766, 4, 0, -589765, 4, 0, -589764, 4, 0, -589763, 4, 0, -589762, 4, 0, -589761, 4, 0, -589760, 4, 0, -589759, 4, 0, -589758, 4, 0, -589757, 4, 0, -589756, 4, 0, -589755, 4, 0, -589754, 4, 0, -589753, 4, 0, -589752, 4, 0, -589751, 4, 0, -589750, 4, 0, -589749, 4, 0, -589748, 4, 0, -589747, 4, 0, -589746, 4, 0, -589745, 4, 0, -589744, 4, 0, -589743, 4, 0, -589742, 4, 0, -589741, 4, 0, -589740, 4, 0, -589739, 4, 0, -589738, 4, 0, -589737, 4, 0, -589736, 4, 0, -589735, 4, 0, -589734, 4, 0, -589733, 4, 0, -589732, 4, 0, -589731, 4, 0, -589730, 4, 0, -589729, 4, 0, -589728, 4, 0, -589727, 4, 0, -589726, 4, 0, -589725, 4, 0, -589724, 4, 0, -589723, 4, 0, -589722, 4, 0, -589721, 4, 0, -589720, 4, 0, -589719, 4, 0, -589718, 4, 0, -524239, 3, 0, -524238, 4, 0, -524237, 4, 0, -524236, 4, 0, -524235, 4, 0, -524234, 4, 0, -524233, 4, 0, -524232, 4, 0, -524231, 4, 0, -524230, 4, 0, -524229, 4, 0, -524228, 4, 0, -524227, 4, 0, -524226, 4, 0, -524225, 4, 0, -524224, 4, 0, -524223, 4, 0, -524222, 4, 0, -524221, 4, 0, -524220, 4, 0, -524219, 4, 0, -524218, 4, 0, -524217, 4, 0, -524216, 4, 0, -524215, 4, 0, -524214, 4, 0, -524213, 4, 0, -524212, 4, 0, -524211, 4, 0, -524210, 4, 0, -524209, 4, 0, -524208, 4, 0, -524207, 4, 0, -524206, 4, 0, -524205, 4, 0, -524204, 4, 0, -524203, 4, 0, -524202, 4, 0, -524201, 4, 0, -524200, 4, 0, -524199, 4, 0, -524198, 4, 0, -524197, 4, 0, -524196, 4, 0, -524195, 4, 0, -524194, 4, 0, -524193, 4, 0, -524192, 4, 0, -524191, 4, 0, -524190, 4, 0, -524189, 4, 0, -524188, 4, 0, -524187, 4, 0, -524186, 4, 0, -524185, 4, 0, -524184, 4, 0, -524183, 4, 0, -524182, 4, 0, -458704, 0, 0, -458703, 15, 0, -458702, 4, 0, -458701, 4, 0, -458700, 4, 0, -458699, 4, 0, -458698, 4, 0, -458697, 4, 0, -458696, 4, 0, -458695, 4, 0, -458694, 4, 0, -458693, 4, 0, -458692, 4, 0, -458691, 4, 0, -458690, 4, 0, -393177, 12, 0, -393176, 13, 0, -393175, 13, 0, -393174, 14, 0, -393168, 3, 0, -393167, 4, 0, -393166, 4, 0, -393165, 4, 0, -393164, 4, 0, -393163, 4, 0, -393162, 4, 0, -393161, 4, 0, -393160, 4, 0, -393159, 4, 0, -393158, 4, 0, -393157, 4, 0, -393156, 4, 0, -393155, 4, 0, -327632, 3, 0, -327631, 4, 0, -327630, 4, 0, -327629, 4, 0, -327628, 4, 0, -327627, 4, 0, -327626, 4, 0, -327625, 4, 0, -327624, 4, 0, -327623, 4, 0, -327622, 4, 0, -327621, 4, 0, -327620, 4, 0, -262096, 3, 0, -262095, 4, 0, -262094, 4, 0, -262093, 4, 0, -262092, 4, 0, -262091, 4, 0, -262090, 4, 0, -262089, 4, 0, -262088, 4, 0, -262087, 4, 0, -262086, 4, 0, -262085, 4, 0, -262084, 4, 0, -196563, 12, 0, -196562, 13, 0, -196561, 13, 0, -196560, 17, 0, -196559, 4, 0, -196558, 4, 0, -196557, 4, 0, -196556, 4, 0, -196555, 4, 0, -196554, 4, 0, -196553, 4, 0, -196552, 4, 0, -196551, 4, 0, -196550, 4, 0, -196549, 4, 0, -131024, 4, 0, -131023, 4, 0, -131022, 4, 0, -131021, 4, 0, -131020, 4, 0, -131019, 4, 0, -131018, 4, 0, -131017, 4, 0, -131016, 4, 0, -131015, 4, 0, -131014, 4, 0, -131013, 4, 0, -65488, 4, 0, -65487, 4, 0, -65486, 4, 0, -65485, 4, 0, -65484, 4, 0, -65483, 4, 0, -65482, 4, 0, -65481, 4, 0, -65480, 4, 0, -65479, 4, 0, -65478, 4, 0, -65477, 4, 0, 65534, 4, 0, 21, 7, 0, 27, 0, 0, 28, 1, 0, 29, 1, 0, 30, 1, 0, 31, 1, 0, 32, 1, 0, 33, 1, 0, 34, 1, 0, 35, 1, 0, 36, 1, 0, 37, 1, 0, 38, 1, 0, 39, 1, 0, 40, 1, 0, 41, 1, 0, 42, 1, 0, 43, 1, 0, 44, 1, 0, 45, 1, 0, 46, 1, 0, 47, 1, 0, 48, 4, 0, 49, 4, 0, 50, 4, 0, 51, 4, 0, 52, 4, 0, 53, 4, 0, 54, 4, 0, 55, 4, 0, 56, 4, 0, 57, 4, 0, 58, 4, 0, 131070, 4, 0, 65563, 3, 0, 65564, 4, 0, 65565, 4, 0, 65566, 4, 0, 65567, 4, 0, 65568, 4, 0, 65569, 4, 0, 65570, 4, 0, 65571, 4, 0, 65572, 4, 0, 65573, 4, 0, 65574, 4, 0, 65575, 4, 0, 65576, 4, 0, 65577, 4, 0, 65578, 4, 0, 65579, 4, 0, 65580, 4, 0, 65581, 4, 0, 65582, 4, 0, 65583, 4, 0, 65584, 4, 0, 65585, 4, 0, 65586, 4, 0, 65587, 4, 0, 65588, 4, 0, 65589, 4, 0, 65590, 4, 0, 65591, 4, 0, 65592, 4, 0, 65593, 4, 0, 65594, 4, 0, 196606, 4, 0, 131099, 3, 0, 131100, 4, 0, 131101, 4, 0, 131102, 4, 0, 131103, 4, 0, 131104, 4, 0, 131105, 4, 0, 131106, 4, 0, 131107, 4, 0, 131108, 4, 0, 131109, 4, 0, 131110, 4, 0, 131111, 4, 0, 131112, 4, 0, 131113, 4, 0, 131114, 4, 0, 131115, 4, 0, 131116, 4, 0, 131117, 4, 0, 131118, 4, 0, 131119, 4, 0, 131120, 4, 0, 131121, 4, 0, 131122, 4, 0, 131123, 4, 0, 131124, 4, 0, 131125, 4, 0, 131126, 4, 0, 131127, 4, 0, 131128, 4, 0, 131129, 4, 0, 262142, 4, 0, 196626, 0, 0, 196627, 1, 0, 196628, 1, 0, 196629, 1, 0, 196630, 1, 0, 196631, 1, 0, 196632, 1, 0, 196633, 1, 0, 196634, 1, 0, 196635, 15, 0, 196636, 4, 0, 196637, 4, 0, 196638, 4, 0, 196639, 4, 0, 196640, 4, 0, 196641, 4, 0, 196642, 4, 0, 196643, 4, 0, 196644, 4, 0, 196645, 4, 0, 196646, 4, 0, 196647, 4, 0, 196648, 4, 0, 196649, 4, 0, 196650, 4, 0, 196651, 4, 0, 196652, 4, 0, 196653, 4, 0, 196654, 4, 0, 196655, 4, 0, 196656, 4, 0, 196657, 4, 0, 196658, 4, 0, 196659, 4, 0, 196660, 4, 0, 196661, 4, 0, 196662, 4, 0, 196663, 4, 0, 327678, 4, 0, 262162, 3, 0, 262163, 4, 0, 262164, 4, 0, 262165, 4, 0, 262166, 4, 0, 262167, 4, 0, 262168, 4, 0, 262169, 4, 0, 262170, 4, 0, 262171, 4, 0, 262172, 4, 0, 262173, 4, 0, 262174, 4, 0, 262175, 4, 0, 262176, 4, 0, 262177, 4, 0, 262178, 4, 0, 262179, 4, 0, 262180, 4, 0, 262181, 4, 0, 262182, 4, 0, 262183, 4, 0, 262184, 4, 0, 262185, 4, 0, 262186, 4, 0, 262187, 4, 0, 262188, 4, 0, 262189, 4, 0, 262190, 4, 0, 262191, 4, 0, 262192, 4, 0, 262193, 4, 0, 262194, 4, 0, 262195, 4, 0, 262196, 4, 0, 262197, 4, 0, 262198, 4, 0, 393214, 4, 0, 327694, 0, 0, 327695, 1, 0, 327696, 1, 0, 327697, 1, 0, 327698, 15, 0, 327699, 4, 0, 327700, 4, 0, 327701, 4, 0, 327702, 4, 0, 327703, 4, 0, 327704, 4, 0, 327705, 4, 0, 327706, 4, 0, 327707, 4, 0, 327708, 4, 0, 327709, 4, 0, 327710, 4, 0, 327711, 4, 0, 327712, 4, 0, 327713, 4, 0, 327714, 4, 0, 327715, 4, 0, 327716, 4, 0, 327717, 4, 0, 327718, 4, 0, 327719, 4, 0, 327720, 4, 0, 327721, 4, 0, 327722, 4, 0, 327723, 4, 0, 327724, 4, 0, 327725, 4, 0, 327726, 4, 0, 327727, 4, 0, 327728, 4, 0, 327729, 4, 0, 327730, 4, 0, 327731, 4, 0, 458750, 4, 0, 393227, 0, 0, 393228, 1, 0, 393229, 1, 0, 393230, 15, 0, 393231, 4, 0, 393232, 4, 0, 393233, 4, 0, 393234, 4, 0, 393235, 4, 0, 393236, 4, 0, 393237, 4, 0, 393238, 4, 0, 393239, 4, 0, 393240, 4, 0, 393241, 4, 0, 393242, 4, 0, 393243, 4, 0, 393244, 4, 0, 393245, 4, 0, 393246, 4, 0, 393247, 4, 0, 393248, 4, 0, 393249, 4, 0, 393250, 4, 0, 393251, 4, 0, 393252, 4, 0, 393253, 4, 0, 393254, 4, 0, 393255, 4, 0, 393256, 4, 0, 393257, 4, 0, 393258, 4, 0, 393259, 4, 0, 393260, 4, 0, 393261, 4, 0, 393262, 4, 0, 393263, 4, 0, 393264, 4, 0, 393265, 4, 0, 524286, 4, 0, 524287, 13, 0, 458752, 13, 0, 458753, 13, 0, 458754, 13, 0, 458755, 13, 0, 458756, 13, 0, 458757, 13, 0, 458758, 13, 0, 458759, 13, 0, 458760, 13, 0, 458761, 13, 0, 458762, 13, 0, 458763, 17, 0, 458764, 4, 0, 458765, 4, 0, 458766, 4, 0, 458767, 4, 0, 458768, 4, 0, 458769, 4, 0, 458770, 4, 0, 458771, 4, 0, 458772, 4, 0, 458773, 4, 0, 458774, 4, 0, 458775, 4, 0, 458776, 4, 0, 458777, 4, 0, 458778, 4, 0, 458779, 4, 0, 458780, 4, 0, 458781, 4, 0, 458782, 4, 0, 458783, 4, 0, 458784, 4, 0, 458785, 4, 0, 458786, 4, 0, 458787, 4, 0, 458788, 4, 0, 458789, 4, 0, 458790, 4, 0, 458791, 4, 0, 458792, 4, 0, 458793, 4, 0, 458794, 4, 0, 458795, 4, 0, 458796, 4, 0, 458797, 4, 0, 458798, 4, 0, 458799, 4, 0, 458800, 4, 0 )

[node name="Enemies" type="Node2D" parent="."]

[node name="Cobra1" parent="Enemies" instance=ExtResource( 3 )]
position = Vector2( 172, 17 )

[node name="Cobra2" parent="Enemies" instance=ExtResource( 3 )]
position = Vector2( 372, -7 )
stop_pos1 = 1
stop_pos2 = 0

[node name="Cobra3" parent="Enemies" instance=ExtResource( 3 )]
position = Vector2( 488, -167 )
stop_pos1 = -12
stop_pos2 = 12

[node name="Vulture1" parent="Enemies" instance=ExtResource( 12 )]
position = Vector2( 252, -25 )

[node name="Vulture2" type="CharacterBody2D" parent="Enemies" groups=["Enemies"]]
position = Vector2( 420, -218 )
collision_layer = 2
collision_mask = 4
script = ExtResource( 16 )
stop_pos1 = -8
stop_pos2 = 8

[node name="AnimationPlayer" type="AnimationPlayer" parent="Enemies/Vulture2"]
anims/RESET = SubResource( 3 )
anims/Vulture = SubResource( 2 )

[node name="Sprite2D" type="Sprite2D" parent="Enemies/Vulture2"]
position = Vector2( -1, -3 )
texture = ExtResource( 15 )
hframes = 7

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Enemies/Vulture2"]
polygon = PackedVector2Array( -3, 1, -3, -5, 3, -5, 3, -2, 6, -1, 6, 3, 4, 8, -3, 8 )

[node name="DetectPlayer" type="Area2D" parent="Enemies/Vulture2" groups=["Enemies"]]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemies/Vulture2/DetectPlayer"]
position = Vector2( 0, 16.5 )
shape = SubResource( 6 )

[node name="IdleTimer" type="Timer" parent="Enemies/Vulture2"]
one_shot = true

[node name="Talons" type="Marker2D" parent="Enemies/Vulture2"]
position = Vector2( 0, 8 )

[node name="Vulture3" parent="Enemies" instance=ExtResource( 12 )]
position = Vector2( 536, -258 )
stop_pos1 = -12
stop_pos2 = 12

[node name="Vulture4" type="CharacterBody2D" parent="Enemies" groups=["Enemies"]]
position = Vector2( 336, -121 )
collision_layer = 2
collision_mask = 4
script = SubResource( 4 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Enemies/Vulture4"]
anims/RESET = SubResource( 3 )
anims/Vulture = SubResource( 2 )

[node name="Sprite2D" type="Sprite2D" parent="Enemies/Vulture4"]
position = Vector2( -1, -3 )
texture = ExtResource( 15 )
hframes = 7

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Enemies/Vulture4"]
polygon = PackedVector2Array( -3, 1, -3, -5, 3, -5, 3, -2, 6, -1, 6, 3, 4, 8, -3, 8 )

[node name="DetectPlayer" type="Area2D" parent="Enemies/Vulture4" groups=["Enemies"]]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemies/Vulture4/DetectPlayer"]
position = Vector2( 0, 14 )
shape = SubResource( 5 )

[node name="IdleTimer" type="Timer" parent="Enemies/Vulture4"]
one_shot = true

[node name="Talons" type="Marker2D" parent="Enemies/Vulture4"]
position = Vector2( 0, 8 )

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 32, 53 )

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2( 8, 0 )
current = true
limit_left = -8
limit_right = 808
limit_bottom = 64
editor_draw_limits = true
script = ExtResource( 4 )

[node name="TestCamera" type="Camera2D" parent="."]
position = Vector2( 41, 32 )
script = ExtResource( 5 )

[node name="PauseLayer" type="CanvasLayer" parent="."]

[node name="Pause" type="Area2D" parent="PauseLayer"]
position = Vector2( 6, 6 )

[node name="Sprite2D" type="Sprite2D" parent="PauseLayer/Pause"]
texture = ExtResource( 7 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PauseLayer/Pause"]
polygon = PackedVector2Array( -3, -3, 3, -3, 3, 3, -3, 3 )

[node name="PauseMenu" parent="PauseLayer" instance=ExtResource( 9 )]
visible = false

[node name="HealthBar" parent="PauseLayer" instance=ExtResource( 17 )]
position = Vector2( 53, 5 )

[node name="EndGame" parent="." instance=ExtResource( 2 )]
position = Vector2( 821, -154 )
